const mongoose = require('mongoose');
const Schema = mongoose.Schema;

const MONGO_URI = 'mongodb+srv://lennin6:Knp0sCOsPTxwy06y@cluster0.q5mmhe8.mongodb.net/?retryWrites=true&w=majority';

mongoose.connect(MONGO_URI, {
    useNewUrlParser: true,
    useUnifiedTopology: true,
    dbName: 'records'
})
  .then(() => console.log('Connected to Mongo DB.'))
  .catch((err => console.log(err)));



// sets a schema for the favorite 'record' collection

const favoriteSchema = new Schema({
    master_id: Number,
    genre: String,
    artist: String,
    release_title: String,
    year: String,
    track: String,
})

const Favorite = mongoose.model('Favorite', favoriteSchema);

// sets a schema for 'review' collection
const reviewSchema = new Schema({
    user: String,
    comment: String
})

const Review = mongoose.model('Review', reviewSchema);



module.exports = {
    Favorite,
    Review
}

